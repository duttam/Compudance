<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="../../template/sitetemplate.xhtml">
    

	<ui:define name="content">
		
		<h:form id="changePasswordForm" prependId="false">
		
		<br />
		<div align="center" style="padding-top:10%">
			<p:panel style="width: 40%;" header="Update Password">
			<p></p>
			
			<h:panelGrid columns="3" cellpadding="10" cellspacing="10">
					
						<p:outputLabel value="Old Password: *" styleClass="tableHdr2"/>
                        <p:password id="oldpassword" value="#{loginBean.oldPassword}" required="true" requiredMessage="Enter Password" >
                        	<f:validator validatorId="oldPasswordValidator" />
                        	<p:ajax event="blur" process="@this" update="oldpasswordMsg"/>
						</p:password>
                        <p:message for="oldpassword" id="oldpasswordMsg" display="text"/>
						
						
						
						<p:outputLabel value="New Password: *" styleClass="tableHdr2"/>
                        <p:password id="password" binding="#{password}" value="#{loginBean.password}" required="true" requiredMessage="Enter Password" 
                                			title="this is the password you will use to log into your profile, please make a note of the password">
                        <p:ajax event="blur" process="@this" update="passwordMsg"/>
						</p:password>
                        <p:message for="password" id="passwordMsg" display="text"/>
                                                                
						<p:outputLabel value="Confirm New Password: *" styleClass="tableHdr2"/>
                        <p:password id="confirmpassword" required="true" requiredMessage="Reenter Password" >
                                	<f:validator validatorId="passwordConfirmValidator" />
                                	<f:attribute name="password" value="#{password.value}" />
                                	<p:ajax event="blur" process="@this password" update="confirmpasswordMsg" />
                                	
						</p:password>
                        <p:message for="confirmpassword" id="confirmpasswordMsg" display="text"/>
							
					          
					
					
					<p:commandButton id="chngPasswd" value="Update" actionListener="#{loginBean.updatePassword}" ajax="false" update="growl"/>
					<p:button  value="Back to Home" outcome="${supportBean.homeUrl}" />
					  
    
					<p:growl id="growl" showDetail="true" sticky="false" showSummary="false"/>
						
			</h:panelGrid>
			
			
			
			<p></p>
			
			
		</p:panel>
		</div>
		</h:form>
		
		
	</ui:define>
</ui:composition>